(this.webpackJsonpdioxidehub=this.webpackJsonpdioxidehub||[]).push([[0],{149:function(n,e,t){n.exports=t(359)},154:function(n,e,t){},359:function(n,e,t){"use strict";t.r(e);var a=t(0),o=t.n(a),r=t(58),l=t.n(r),i=(t(154),t(19)),c=t(20),u=t(14),d=t.n(u),s=t(38),p=t(59),v=t.n(p),h=t(37);function m(){var n=Object(i.a)(["\n  position: absolute;\n  z-index: 5;\n  background: rgba(179, 179, 179, 50%);\n  width: 23rem;\n  height: 100vh;\n  box-shadow: 0 0 15px;\n  @media (max-width: 500px) {\n    background: none;\n    box-shadow: none;\n    width: 100%;\n  }\n"]);return m=function(){return n},n}function g(){var n=Object(i.a)(["\n  position: absolute;\n  z-index: 5;\n  top: 4rem;\n  left: 4rem;\n  input {\n    padding: 7px 20px 7px 20px;\n    border-radius: 20px;\n    border: 1px solid;\n    font-size: 1rem;\n    @media (max-width: 400px) {\n      padding: 2vw;\n      font-size: 4.5vw;\n    }\n  }\n  @media (max-width: 500px) {\n    top: 8vh;\n    left: 7vw;\n  }\n"]);return g=function(){return n},n}function f(){var n=Object(i.a)(["\n  background: linear-gradient(\n    to bottom,\n    rgba(0, 128, 0, 60%),\n    rgba(255, 255, 0, 60%),\n    rgba(255, 165, 0, 80%),\n    rgba(255, 0, 0, 60%),\n    rgba(128, 0, 128, 60%),\n    rgba(128, 0, 0, 80%)\n  );\n  position: absolute;\n  z-index: 5;\n  height: 100vh;\n  right: 0;\n  max-width: min-content;\n  box-shadow: 0 0 15px;\n  p {\n    padding: 9vh 0 0 0;\n    font-size: 15px;\n    height: 7vh;\n    margin: 0;\n    font-weight: 500;\n  }\n"]);return f=function(){return n},n}function b(){var n=Object(i.a)(["\n  background-color: ",";\n  position: absolute;\n  z-index: 5;\n  width: 15rem;\n  left: 4rem;\n  bottom: 10vh;\n  border-radius: 10px;\n  @media (max-width: 500px) {\n    left: 1rem;\n    width: 12rem;\n  }\n"]);return b=function(){return n},n}function x(){var n=Object(i.a)(["\n  width: auto;\n  height: 100vh;\n"]);return x=function(){return n},n}var w=c.a.div(x()),E=c.a.div(b(),(function(n){var e=n.aqius;if(!e)return"white";var t=parseInt(e,10);return t<50?"green":t<100?"yellow":t<150?"orange":t<200?"red":t<300?"purple":t<500?"maroon":"white"})),y=c.a.div(f()),j=c.a.div(g()),k=c.a.div(m()),O=Object(h.withGoogleMap)((function(n){return o.a.createElement(h.GoogleMap,{options:{gestureHandling:"greedy",mapTypeId:"hybrid",streetViewControl:!1,clickableIcons:!1,minZoom:2.8,fullscreenControl:!1,zoomControl:!1,mapTypeControl:!1,scaleControl:!1,rotateControl:!1,restriction:{latLngBounds:{north:85,south:-85,west:-180,east:180}}},defaultZoom:2.8,defaultCenter:{lat:43.71,lng:7.26},center:{lat:n.coordinates.lat||43.71,lng:n.coordinates.lng||7.26},zoom:n.coordinates.lat&&n.coordinates.lng?10:2.6},n.children)}));function C(){var n,e,t,r,l,i,c,u,m,g,f,b,x,C=o.a.useState(""),z=Object(s.a)(C,2),S=z[0],G=z[1],U=o.a.useState([]),I=Object(s.a)(U,2),T=I[0],q=I[1],B=o.a.useState(null),M=Object(s.a)(B,2),L=M[0],P=M[1],H=o.a.useState({lat:null,lng:null}),V=Object(s.a)(H,2),W=V[0],Z=V[1],A=(null===L||void 0===L?void 0:null===(n=L.data)||void 0===n?void 0:null===(e=n.current)||void 0===e?void 0:null===(t=e.pollution)||void 0===t?void 0:t.ts)?new Date(null===L||void 0===L?void 0:null===(r=L.data)||void 0===r?void 0:null===(l=r.current)||void 0===l?void 0:null===(i=l.pollution)||void 0===i?void 0:i.ts).toLocaleString("en-GB",{timeZone:"UTC"}):"";return Object(a.useEffect)((function(){!function(){var n,e;d.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,null!==W.lat&&null!==W.lng&&S){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,d.a.awrap(fetch("https://nominatim.openstreetmap.org/search.php?q=".concat(S,"&polygon_geojson=1&format=json")));case 5:return n=t.sent,t.next=8,d.a.awrap(n.json());case 8:e=t.sent,q(e),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),console.error(t.t0);case 15:case"end":return t.stop()}}),null,null,[[0,12]])}()}),[W]),Object(a.useEffect)((function(){!function(){var n,e;d.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,null!==W.lat&&null!==W.lng){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,d.a.awrap(fetch("https://api.airvisual.com/v2/nearest_city?lat=".concat(W.lat.toFixed(2),"&lon=").concat(W.lng.toFixed(2),"&key=").concat("85b7f51c-9af9-4258-9237-9e4434432bf3"),{method:"GET",redirect:"follow"}));case 5:return n=t.sent,t.next=8,d.a.awrap(n.json());case 8:e=t.sent,P(e),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),console.error(t.t0);case 15:case"end":return t.stop()}}),null,null,[[0,12]])}()}),[W]),o.a.createElement("div",null,o.a.createElement(k,null),o.a.createElement(v.a,{searchOptions:{types:["(cities)"]},value:S,onChange:function(n){G(n)},onSelect:function(n){var e,t;return d.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,d.a.awrap(Object(p.geocodeByAddress)(n));case 2:return e=a.sent,a.next=5,d.a.awrap(Object(p.getLatLng)(e[0]));case 5:t=a.sent,G(n),Z(t);case 8:case"end":return a.stop()}}))}},(function(n){var e=n.getInputProps,t=n.suggestions,a=n.getSuggestionItemProps,r=n.loading;return o.a.createElement(j,null,o.a.createElement("input",e({placeholder:"Type address"})),o.a.createElement("div",null,r?o.a.createElement("div",null,"...loading"):null,t.map((function(n){var e={backgroundColor:n.active?"#41b6e6":"#fff"};return o.a.createElement("div",a(n,{style:e}),n.description)}))))})),o.a.createElement(E,{aqius:null===L||void 0===L?void 0:null===(c=L.data)||void 0===c?void 0:null===(u=c.current)||void 0===u?void 0:null===(m=u.pollution)||void 0===m?void 0:m.aqius},o.a.createElement("p",null,"City: ",null===L||void 0===L?void 0:null===(g=L.data)||void 0===g?void 0:g.city),o.a.createElement("p",null,"US AQI:"," ",L&&(null===(f=L.data)||void 0===f?void 0:null===(b=f.current)||void 0===b?void 0:null===(x=b.pollution)||void 0===x?void 0:x.aqius)),o.a.createElement("p",null,"Time: ",A)),o.a.createElement(y,null,o.a.createElement("p",{title:"Good"},"Good(0 to 50)"),o.a.createElement("p",{title:"Moderate"},"Moderate(51 to 100)"),o.a.createElement("p",{title:"Unhealthy for Sensitive Groups"},"Unhealthy for Sensitive Groups(101 to 150)"),o.a.createElement("p",{title:"Unhealthy"},"Unhealthy(151 to 200)"),o.a.createElement("p",{title:"Very Unhealthy"},"Very Unhealthy(201 to 300)"),o.a.createElement("p",{title:"Hazardous"},"Hazardous(301 and higher)")),o.a.createElement(O,{containerElement:o.a.createElement(w,null),mapElement:o.a.createElement(w,null),coordinates:W},T.length>1&&function(){var n=T.find((function(n){return n&&n.geojson&&"Polygon"===n.geojson.type}));if(!n)return null;var e=n.geojson.coordinates[0].map((function(n){return{lat:n[1],lng:n[0]}}));return o.a.createElement(h.Polygon,{path:e,options:{strokeColor:"#fc1e0d",strokeOpacity:1,strokeWeight:2}})}(),W.lat&&W.lng&&o.a.createElement(h.Marker,{position:{lat:W.lat,lng:W.lng}})))}function z(){var n=Object(i.a)(["\n  text-align: center;\n"]);return z=function(){return n},n}var S=c.a.div(z()),G=function(){return o.a.createElement(S,null,o.a.createElement(C,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(G,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(n){n.unregister()}))}},[[149,1,2]]]);
//# sourceMappingURL=main.e5589262.chunk.js.map